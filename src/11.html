<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <style type="text/css">
    body,div{
      margin:0;
      padding: 0;
    }
    #div1{
      width: 100px;
      height: 100px;
      background: red;
      margin-top: 20px;
      position: absolute;
      left: 0px;
    }
    #div2{
      width: 100%;
      height: 1px;
      margin-bottom: 10px;
      /*top: 0;*/
      position:relative;
      background: black;

    }
  </style>
  <script type="text/javascript">
    //window.onload = function(){
    var timer=null;


    //oBtn.onclick = sMove();
    function sMove(){
      //var oBtn = document.getElementsByTagName('input')[0];
      var oDiv = document.getElementsByTagName('div')[0];
      clearInterval(timer);  //清除，保证再次点击按钮时只有一个定时器，是连续点击按钮，物体会运动越来越快,造成运动混乱；
      timer = setInterval(function(){
        //设置运动速度
        var iSpeed = 11;
        //达到目的地则清除定时器，其中条件选大于等于，因为速度可能不是刚好满整
/*        if (oDiv.offsetLeft >= 500) {
          clearInterval(timer);
        } else{
          oDiv.style.left=oDiv.offsetLeft+iSpeed+'px';
        }*/
        if (oDiv.offsetHeight >= 500) {
          clearInterval(timer);
        } else{
          oDiv.style.height=oDiv.offsetHeight+iSpeed+'px';
        }
      },30);

    };
    //}
  </script>
</head>
<body>
<input type="button" value="开始" onclick="sMove(500);">
<div id="div1"></div>
<div id="div2"></div>

</body>
</html>
